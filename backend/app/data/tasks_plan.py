from __future__ import annotations

from ..models import TaskDifficulty


def _steps(*items: str) -> str:
    return "\n".join(items)


TASKS_PLAN = [
    {
        "title": "Ежедневная микро-рефлексия — Задача 1. Выбрать фиксированное время",
        "description": _steps(
            "Проверить своё расписание на неделю",
            "Определить самое спокойное время",
            "Поставить напоминание в календарь",
        ),
        "difficulty": TaskDifficulty.easy,
        "xp_reward": 12,
        "health_delta": 0,
    },
    {
        "title": "Ежедневная микро-рефлексия — Задача 2. Создать шаблон заметки",
        "description": _steps(
            "Открыть заметки, Notion или Google Docs",
            "Создать файл «Рефлексия — неделя»",
            "Добавить три вопроса: «Что дало энергию?», «Что забрало энергию?», «Какое решение было осознанным/импульсивным?»",
            "Разметить семь блоков по дням",
        ),
        "difficulty": TaskDifficulty.easy,
        "xp_reward": 15,
        "health_delta": 0,
    },
    {
        "title": "Ежедневная микро-рефлексия — Задача 3. Заполнять ежедневно",
        "description": _steps(
            "Открывать заметку в выбранное время",
            "Кратко отвечать на три вопроса",
            "Отмечать эмоциональный фон по шкале 1–5",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 18,
        "health_delta": 0,
    },
    {
        "title": "Ежедневная микро-рефлексия — Задача 4. Итоговый обзор",
        "description": _steps(
            "Прочитать записи за неделю",
            "Найти повторяющиеся темы",
            "Записать итоговый вывод",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 20,
        "health_delta": 5,
    },
    {
        "title": "Наблюдение за автоматическими реакциями — Задача 1. Настроить напоминания",
        "description": _steps(
            "Поставить два напоминания, например на 12:00 и 17:00",
            "Добавить текст «Проверь реакцию — тело/эмоции»",
        ),
        "difficulty": TaskDifficulty.easy,
        "xp_reward": 12,
        "health_delta": 0,
    },
    {
        "title": "Наблюдение за автоматическими реакциями — Задача 2. Отслеживать реакции в моменте",
        "description": _steps(
            "Остановиться на 5–10 секунд после напоминания",
            "Замечать реакцию: напряжение, раздражение, спешку",
            "Определять контекст: где находишься, с кем и почему",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 18,
        "health_delta": 0,
    },
    {
        "title": "Наблюдение за автоматическими реакциями — Задача 3. Записывать короткие заметки",
        "description": _steps(
            "Создать файл «Автоматические реакции»",
            "Использовать формат ситуация → реакция → причина",
            "Делать одну-три записи в день",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 18,
        "health_delta": 0,
    },
    {
        "title": "Наблюдение за автоматическими реакциями — Задача 4. Найти триггеры",
        "description": _steps(
            "Просмотреть все заметки к концу недели",
            "Отметить повторяющиеся ситуации",
            "Выделить два главных триггера",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 20,
        "health_delta": 5,
    },
    {
        "title": "Один час без внешних стимулов — Задача 1. Выбрать время",
        "description": _steps(
            "Определить свободный день",
            "Заблокировать один час в календаре",
            "Подтвердить напоминанием",
        ),
        "difficulty": TaskDifficulty.easy,
        "xp_reward": 12,
        "health_delta": 5,
    },
    {
        "title": "Один час без внешних стимулов — Задача 2. Выбрать формат",
        "description": _steps(
            "Решить между прогулкой, ванной или часом в тишине",
            "Подготовить всё необходимое заранее",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 16,
        "health_delta": 5,
    },
    {
        "title": "Один час без внешних стимулов — Задача 3. Убрать стимулы",
        "description": _steps(
            "Отключить уведомления",
            "Положить телефон в другое место",
            "Исключить музыку и разговоры",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 18,
        "health_delta": 8,
    },
    {
        "title": "Один час без внешних стимулов — Задача 4. Подвести итоги",
        "description": _steps(
            "После часа посидеть спокойно одну минуту",
            "Записать три мысли или ощущения",
            "Сохранить их в заметку",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 20,
        "health_delta": 10,
    },
    {
        "title": "Проверка истинных мотивов — Задача 1. Выбрать решения недели",
        "description": _steps(
            "Просмотреть список задач недели",
            "Выбрать 3–5 важных решений",
            "Создать отдельный список",
        ),
        "difficulty": TaskDifficulty.easy,
        "xp_reward": 14,
        "health_delta": 0,
    },
    {
        "title": "Проверка истинных мотивов — Задача 2. Применять вопросы",
        "description": _steps(
            "Делать паузу перед согласием на новую задачу",
            "Задавать вопросы «Я хочу или надо?» и «Чей это мотив?»",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 18,
        "health_delta": 0,
    },
    {
        "title": "Проверка истинных мотивов — Задача 3. Фиксировать мотивы",
        "description": _steps(
            "Создать заметку «Мотивы решений»",
            "Использовать формат решение → мотив → ощущение",
            "Заполнять заметку в течение недели",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 18,
        "health_delta": 0,
    },
    {
        "title": "Проверка истинных мотивов — Задача 4. Анализировать",
        "description": _steps(
            "Пройтись по списку решений",
            "Отметить, где мотив был внешним",
            "Сформулировать, что изменить в следующую неделю",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 20,
        "health_delta": 5,
    },
    {
        "title": "Ведение дневника смыслов — Задача 1. Создать дневник",
        "description": _steps(
            "Открыть документ и назвать его «Дневник смыслов — неделя»",
            "Сделать три блока: Пн–Вт, Ср–Чт, Пт–Вс",
        ),
        "difficulty": TaskDifficulty.easy,
        "xp_reward": 12,
        "health_delta": 0,
    },
    {
        "title": "Ведение дневника смыслов — Задача 2. Писать 2–3 раза в неделю",
        "description": _steps(
            "Находить десять минут на запись",
            "Отвечать на два вопроса: «Что важно для меня сейчас?» и «Что хочу сохранить после недели?»",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 18,
        "health_delta": 0,
    },
    {
        "title": "Ведение дневника смыслов — Задача 3. Отмечать повторения",
        "description": _steps(
            "Регулярно перечитывать записи",
            "Помечать повторяющиеся темы",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 16,
        "health_delta": 0,
    },
    {
        "title": "Ведение дневника смыслов — Задача 4. Найти главную ценность",
        "description": _steps(
            "Просмотреть все записи к концу недели",
            "Найти повторяющуюся ценность",
            "Записать её отдельно",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 20,
        "health_delta": 5,
    },
    {
        "title": "Телесная осознанность — Задача 1. Выбрать время",
        "description": _steps(
            "Решить, будет ли практика утром или вечером",
            "Поставить напоминание",
        ),
        "difficulty": TaskDifficulty.easy,
        "xp_reward": 12,
        "health_delta": 5,
    },
    {
        "title": "Телесная осознанность — Задача 2. Сканирование тела",
        "description": _steps(
            "Сесть удобно и пройти вниманием сверху вниз",
            "Отмечать зажимы и мягко отпускать",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 18,
        "health_delta": 8,
    },
    {
        "title": "Телесная осознанность — Задача 3. Дыхание 4–7–8",
        "description": _steps(
            "Сесть ровно",
            "Сделать цикл: вдох 4 секунды, задержка 7 секунд, выдох 8 секунд",
            "Повторить 3–4 раза",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 18,
        "health_delta": 10,
    },
    {
        "title": "Телесная осознанность — Задача 4. Отслеживание состояний",
        "description": _steps(
            "Спросить себя «Как сейчас тело?»",
            "Кратко записать наблюдение",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 18,
        "health_delta": 5,
    },
    {
        "title": "Итог недели — самоинтервью — Задача 1. Выделить время",
        "description": _steps(
            "Найти удобный день, например пятницу или субботу",
            "Поставить напоминание",
        ),
        "difficulty": TaskDifficulty.easy,
        "xp_reward": 12,
        "health_delta": 0,
    },
    {
        "title": "Итог недели — самоинтервью — Задача 2. Ответить на вопросы",
        "description": _steps(
            "Ответить на вопросы: «Что понял о себе?», «Что стал лучше замечать?», «Где ещё действую на автопилоте?», «Что беру в следующую неделю?»",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 20,
        "health_delta": 0,
    },
    {
        "title": "Итог недели — самоинтервью — Задача 3. Зафиксировать выводы",
        "description": _steps(
            "Выделить один-два инсайта",
            "Записать их в финальный блок",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 18,
        "health_delta": 5,
    },
    {
        "title": "Итог недели — самоинтервью — Задача 4. Сформировать цели на следующую неделю",
        "description": _steps(
            "Определить направление развития",
            "Сформировать новый список целей",
            "Создать новый документ",
        ),
        "difficulty": TaskDifficulty.medium,
        "xp_reward": 20,
        "health_delta": 5,
    },
]
